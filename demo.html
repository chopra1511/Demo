<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>demo</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!-- <div id="div1"></div>
        <button id="update">update me</button> -->
        <script>
           let posts = [
               { title: "Post One", body: "This is Post One" },
               { title: "Post Two", body: "This is Post Two" },
               { title: "Post Three", body: "This is Post Three" }
           ]
           
           
           function getpost() {
               setTimeout(() => {
                   let output = " ";
                   posts.forEach(post => {
                       output += `<li>${post.title} </li>`;
                   });
                   document.body.innerHTML = output;
               }, 1000);
           }
            function createPost(post) {
                    return new Promise((resolve, reject) => {
                        setTimeout(() => {
                            posts.push(post);
                            let err = false;
                            if (!err) {
                                resolve();
                            } else {
                                reject("Error:Something went wrong");
                            }
                        }, 1000);
                    });

                }

           function deletePost() {
               return new Promise((resolve, reject) => {
                   setTimeout(() => {
                       posts.pop();
                       if (posts.length != 0) {
                           resolve();
                       } else {
                           reject("Error:Array is Empty");
                       }
                   }, 1000);
               });
               
           }

        //    function getLastEditTime() {
        //        let curr = new Date();
        //        return curr.getHours() + ':' + curr.getMinutes() + ':' + curr.getSeconds();
        //    }
        
        createPost({ title: "Post Four", body: "This is Post Four" }).then(getpost).catch(err => console.log(err));

        posts.forEach(post =>{
             deletePost().then(getpost).catch(err => console.log(err));
         })
        
        
            
        </script>
    </body>
</html>